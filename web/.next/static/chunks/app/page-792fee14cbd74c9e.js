(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{22552:(e,t,a)=>{Promise.resolve().then(a.bind(a,25638))},25638:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var o=a(95155),r=a(12115),l=a(10886),s=a(61346),n=a(22127),i=a(79169);function c(){let{isConnected:e,address:t}=(0,l.G8)(),{disconnect:a}=(0,n.u)();return e?(0,o.jsx)("div",{style:{position:"fixed",top:20,right:20,zIndex:1e4,backgroundColor:"#2a2a2a",padding:"8px 16px",borderRadius:"8px",border:"1px solid #444",fontSize:"14px",color:"#ffffff"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,o.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#28a745",borderRadius:"50%"}}),(0,o.jsxs)("span",{children:["Connected: ",null==t?void 0:t.slice(0,6),"...",null==t?void 0:t.slice(-4)]}),(0,o.jsx)("button",{onClick:()=>{confirm("Are you sure you want to disconnect your wallet?")&&a()},style:{marginLeft:"8px",padding:"4px 8px",fontSize:"12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(220, 236, 78, 1)",e.target.style.color="black"},onMouseOut:e=>{e.target.style.backgroundColor="#dc3545",e.target.style.color="white"},children:"Disconnect"})]})}):(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#1a1a1a"},children:(0,o.jsx)("div",{style:{backgroundColor:"#2a2a2a",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",textAlign:"center",maxWidth:"320px",width:"100%",border:"1px solid #444"},children:(0,o.jsx)("button",{onClick:()=>{i.modal.open()},style:{width:"100%",padding:"16px 24px",fontSize:"18px",fontWeight:"600",backgroundColor:"rgba(220, 236, 78, 0.82)",color:"black",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(220, 236, 78, 1)",e.target.style.color="black"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(220, 236, 78, 0.82)",e.target.style.color="white"},children:"Connect Wallet"})})})}let d="https://copypools-production.up.railway.app";function u(){let{isConnected:e,address:t}=(0,l.G8)(),{data:a,isLoading:n,error:i}=(0,s.A)({address:t,token:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",chainId:42161,enabled:!!t});(0,r.useEffect)(()=>{console.log("Balance fetch debug:",{address:t,usdtBalance:a,balanceLoading:n,balanceError:i,isConnected:e})},[t,a,n,i,e]);let[u,p]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[x,g]=(0,r.useState)([]),[f,y]=(0,r.useState)(""),[b,k]=(0,r.useState)(""),[S,j]=(0,r.useState)(!0),[w,v]=(0,r.useState)(new Set),[C,N]=(0,r.useState)(50),[_,z]=(0,r.useState)(""),[O,D]=(0,r.useState)(()=>{{let e=localStorage.getItem("polymarket-selections");return e?new Set(JSON.parse(e)):new Set}}),[I,M]=(0,r.useState)(()=>{{let e=localStorage.getItem("bet365-selections");return e?new Set(JSON.parse(e)):new Set}}),[R,q]=(0,r.useState)(()=>{{let e=localStorage.getItem("polymarket-rain-memory");return e?new Set(JSON.parse(e)):new Set}}),[A,E]=(0,r.useState)(3600),[L,W]=(0,r.useState)("polymarket"),[B,P]=(0,r.useState)("soccer_epl"),[F,T]=(0,r.useState)("date"),[J,U]=(0,r.useState)("desc"),[Y,$]=(0,r.useState)("uk,eu"),[G,H]=(0,r.useState)(new Set),[Z,V]=(0,r.useState)(new Set),[X,K]=(0,r.useState)([]),[Q,ee]=(0,r.useState)([]),et=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(!0),h("");try{let t;"polymarket"===L?((t=new URL("".concat(d,"/api/polymarket"))).searchParams.set("active",String(S)),t.searchParams.set("limit","1000")):((t=new URL("".concat(d,"/api/bet365"))).searchParams.set("sport",B),t.searchParams.set("regions",Y),t.searchParams.set("markets","h2h"),t.searchParams.set("limit","500"));let a=await fetch(t),o=await a.json();if(!a.ok)throw Error((null==o?void 0:o.error)||a.statusText);let r=o.markets||[],l=new Set(r.map(e=>e.market_id));if(e&&G.size>0){let e=new Set;r.forEach(t=>{G.has(t.market_id)||e.add(t.market_id)}),V(e),e.size>0&&setTimeout(()=>{V(new Set)},6e4)}H(l),g(r),"polymarket"===L?K(r):ee(r)}catch(e){h(String(e.message||e))}finally{p(!1)}};(0,r.useEffect)(()=>{et()},[L,S,B,Y]),(0,r.useEffect)(()=>{"polymarket"===L?v(O):v(I)},[L,O,I]),(0,r.useEffect)(()=>{localStorage.setItem("polymarket-selections",JSON.stringify([...O]))},[O]),(0,r.useEffect)(()=>{localStorage.setItem("bet365-selections",JSON.stringify([...I]))},[I]);let ea=e=>{if(console.log("Sorting by:",e,"Current:",F,J),F===e){let e="asc"===J?"desc":"asc";U(e),console.log("Changed order to:",e)}else T(e),U("desc"),console.log("Changed column to:",e,"order: desc")};(0,r.useEffect)(()=>{let e=setInterval(()=>{E(e=>e<=1?(et(!0),3600):e-1)},1e3);return()=>clearInterval(e)},[L,S,B,Y]),(0,r.useEffect)(()=>{localStorage.setItem("polymarket-rain-memory",JSON.stringify([...R]))},[R]);let eo=parseFloat(_)||0,er=a?parseFloat(a.formatted):0,el=O.size+I.size,es=el>0?eo/el:0,en=(0,r.useMemo)(()=>_?eo>er?"Investment amount exceeds available balance":el>0&&es<10?"Investment per question must be at least $10":"":"",[_,eo,er,el,es]),ei=(0,r.useMemo)(()=>{let e=f.toLowerCase(),t=x.filter(t=>{var a,o;let r=!e||(null==(a=t.title)?void 0:a.toLowerCase().includes(e))||(null==(o=t.category)?void 0:o.toLowerCase().includes(e)),l=!b||Number(t.liquidity||0)>=Number(b);return r&&l});return console.log("Applying sort - sortBy:",F,"sortOrder:",J),t.sort((e,t)=>{let a,o;switch(F){case"liquidity":a=Number(e.liquidity||0),o=Number(t.liquidity||0);break;case"date":default:a=new Date(e.end_date||e.commence_time||"1970-01-01").getTime(),o=new Date(t.end_date||t.commence_time||"1970-01-01").getTime();break;case"title":a=(e.title||"").toLowerCase(),o=(t.title||"").toLowerCase();break;case"volume":a=Number(e.volume||0),o=Number(t.volume||0)}return"string"==typeof a?"asc"===J?a.localeCompare(o):o.localeCompare(a):"asc"===J?a-o:o-a}),t.slice(0,C)},[x,f,b,C,F,J]),ec=(0,r.useMemo)(()=>{let e=[];e.push(...X.filter(e=>O.has(e.market_id))),e.push(...Q.filter(e=>I.has(e.market_id)));let o=e.map(e=>{var t;return{question:e.title,options:(null==(t=e.outcomes)?void 0:t.map(e=>e.name))||[],invested:el>0&&eo>0?es:0}}),r=0;return n?r="loading...":i?r="error: ".concat(i.message):a&&(r=parseFloat(a.formatted)),{questions:o,funding_wallet:t||null,remaining_usdt_balance:r,total_invested_usdt:eo||0}},[X,Q,O,I,t,a,n,i,eo,el,es]);function ed(e){let{children:t,style:a={},onClick:r,...l}=e;return(0,o.jsx)("th",{style:{textAlign:"left",fontWeight:600,fontSize:14,padding:"10px 8px",background:"#fafafa",...a},onClick:r,...l,children:t})}function eu(e){let{children:t,style:a={}}=e;return(0,o.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #eee",fontSize:13,...a},children:t})}return e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{}),(0,o.jsxs)("div",{className:"main-container",style:{fontFamily:"system-ui, -apple-system, Segoe UI, Roboto",padding:16,maxWidth:1200,margin:"0 auto"},children:[(0,o.jsx)("div",{style:{marginBottom:20},children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)("button",{className:"tab-button ".concat("polymarket"===L?"active":""),onClick:()=>W("polymarket"),style:{flex:1,padding:"12px 24px",border:"none",backgroundColor:"polymarket"===L?"rgba(220, 236, 78, 1)":"#f8f9fa",color:"polymarket"===L?"black":"#495057",cursor:"pointer",fontWeight:600,fontSize:16},children:"\uD83D\uDCCA Polymarket"}),(0,o.jsx)("button",{className:"tab-button ".concat("bet365"===L?"active":""),onClick:()=>W("bet365"),style:{flex:1,padding:"12px 24px",border:"none",backgroundColor:"bet365"===L?"rgba(220, 236, 78, 1)":"#f8f9fa",color:"bet365"===L?"black":"#495057",cursor:"pointer",fontWeight:600,fontSize:16},children:"⚽ Bet365"})]})}),(0,o.jsxs)("div",{className:"controls-section",style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[(0,o.jsx)("input",{className:"control-input",type:"text",placeholder:"Search title or category…",value:f,onChange:e=>y(e.target.value),style:{padding:8,minWidth:280}}),(0,o.jsx)("input",{className:"control-input",type:"number",min:0,placeholder:"Min liquidity",value:b,onChange:e=>k(e.target.value),style:{padding:8,width:160}}),(0,o.jsxs)("select",{className:"control-input",value:C,onChange:e=>N(Number(e.target.value)),style:{padding:8,width:120},children:[(0,o.jsx)("option",{value:20,children:"Show 20"}),(0,o.jsx)("option",{value:50,children:"Show 50"}),(0,o.jsx)("option",{value:100,children:"Show 100"}),(0,o.jsx)("option",{value:200,children:"Show 200"}),(0,o.jsx)("option",{value:500,children:"Show 500"})]}),"polymarket"===L&&(0,o.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[(0,o.jsx)("input",{type:"checkbox",checked:S,onChange:e=>j(e.target.checked)})," ","Only open"]}),"bet365"===L&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("select",{className:"control-input",value:B,onChange:e=>P(e.target.value),style:{padding:8,width:180},children:[(0,o.jsx)("option",{value:"soccer_epl",children:"Premier League"}),(0,o.jsx)("option",{value:"soccer_uefa_champs_league",children:"Champions League"}),(0,o.jsx)("option",{value:"basketball_nba",children:"NBA"}),(0,o.jsx)("option",{value:"mma_mixed_martial_arts",children:"MMA"}),(0,o.jsx)("option",{value:"tennis_atp",children:"ATP Tennis"})]}),(0,o.jsx)("input",{className:"control-input",type:"text",value:Y,onChange:e=>$(e.target.value),style:{padding:8,width:120},placeholder:"uk,eu,us,au"})]})]}),(0,o.jsxs)("div",{className:"investment-box",style:{display:"flex",gap:12,alignItems:"center",marginBottom:12,padding:12,backgroundColor:"#2a2a2a",borderRadius:4,border:en?"1px solid #dc3545":"1px solid #444",flexWrap:"wrap"},children:[(0,o.jsx)("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:"Invest USDT:"}),(0,o.jsx)("input",{type:"number",value:_,onChange:e=>z(e.target.value),placeholder:"0.00",min:"0",step:"0.01",style:{width:"100px",padding:"4px 8px",borderRadius:"4px",border:en?"1px solid #dc3545":"1px solid #555",backgroundColor:"#1a1a1a",color:"#ffffff",fontSize:"14px"}}),(0,o.jsxs)("span",{style:{color:"#888",fontSize:"12px"},children:["Balance: $",er.toFixed(2)]}),el>0&&eo>0&&(0,o.jsxs)("span",{style:{color:"#888",fontSize:"12px"},children:["$",es.toFixed(2),"/question"]}),(0,o.jsxs)("span",{style:{color:"#ffffff",fontSize:"12px"},children:["(",O.size+I.size," selected)"]}),en&&(0,o.jsx)("span",{style:{color:"#dc3545",fontSize:"12px",fontWeight:"500"},children:en})]}),u&&(0,o.jsx)("p",{className:"loading",children:"Loading…"}),m&&(0,o.jsx)("p",{className:"error",style:{color:"crimson"},children:m}),!u&&!m&&(0,o.jsxs)("div",{className:"main-content",style:{display:"flex",gap:16,height:"65vh"},children:[(0,o.jsx)("div",{className:"table-container",style:{flex:"0 0 70%",display:"flex",flexDirection:"column",height:"100%"},children:(0,o.jsx)("div",{className:"table-wrapper",style:{height:"100%",overflowY:"auto",border:"1px solid #ddd",borderRadius:4},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{style:{position:"sticky",top:0,backgroundColor:"#fafafa",zIndex:100},children:(0,o.jsxs)("tr",{children:[(0,o.jsx)(ed,{className:"select-column",style:{width:50,textAlign:"center"},children:(0,o.jsx)("input",{type:"checkbox",checked:w.size===ei.length&&ei.length>0,onChange:e=>(e=>{let t=e?new Set(ei.map(e=>e.market_id)):new Set;v(t),"polymarket"===L?D(t):M(t)})(e.target.checked),style:{cursor:"pointer",transform:"scale(1.2)"},title:w.size===ei.length&&ei.length>0?"Deselect All":"Select All"})}),(0,o.jsxs)(ed,{className:"date-column clickable",style:{cursor:"pointer",userSelect:"none",transition:"background-color 0.2s","&:hover":{backgroundColor:"#e9ecef"}},onClick:()=>ea("date"),onMouseOver:e=>e.target.style.backgroundColor="#e9ecef",onMouseOut:e=>e.target.style.backgroundColor="#fafafa",children:["Date"," ",(0,o.jsx)("span",{className:"sort-arrow",style:{color:"date"===F?"#007bff":"#6c757d"},children:"date"===F?"asc"===J?"↑":"↓":"↕"})]}),(0,o.jsx)(ed,{className:"title-column",children:"Title"}),(0,o.jsx)(ed,{className:"status-column",children:"Status"}),"polymarket"===L&&(0,o.jsxs)(ed,{className:"liquidity-column clickable",style:{cursor:"pointer",userSelect:"none",transition:"background-color 0.2s"},onClick:()=>ea("liquidity"),onMouseOver:e=>e.target.style.backgroundColor="#e9ecef",onMouseOut:e=>e.target.style.backgroundColor="#fafafa",children:["Liquidity"," ",(0,o.jsx)("span",{className:"sort-arrow",style:{color:"liquidity"===F?"#007bff":"#6c757d"},children:"liquidity"===F?"asc"===J?"↑":"↓":"↕"})]}),(0,o.jsx)(ed,{className:"outcomes-column",children:"Top outcomes"}),(0,o.jsx)(ed,{className:"rain-column",style:{width:80},children:"Rain"})]})}),(0,o.jsx)("tbody",{children:ei.map(e=>{var t;return(0,o.jsxs)("tr",{style:{backgroundColor:Z.has(e.market_id)?"#d4edda":"transparent"},children:[(0,o.jsx)(eu,{children:(0,o.jsx)("input",{type:"checkbox",checked:w.has(e.market_id),onChange:t=>((e,t)=>{let a=new Set(w);t?a.add(e):a.delete(e),v(a),"polymarket"===L?D(a):M(a)})(e.market_id,t.target.checked)})}),(0,o.jsx)(eu,{children:(e=>{if(!e)return"—";try{return new Date(e).toLocaleDateString()}catch(e){return"—"}})(e.end_date||e.commence_time)}),(0,o.jsx)(eu,{children:e.title}),(0,o.jsx)(eu,{children:e.status}),"polymarket"===L&&(0,o.jsx)(eu,{children:((t=e.liquidity)?Number(t).toLocaleString():"—")||"—"}),(0,o.jsx)(eu,{children:(e.outcomes||[]).slice(0,3).map((e,t)=>(0,o.jsxs)("span",{style:{display:"inline-block",marginRight:8},children:[e.name,":"," ",null!=e.implied_prob?(100*e.implied_prob).toFixed(1)+"%":"—"]},t))}),(0,o.jsxs)(eu,{children:[(0,o.jsx)("input",{type:"checkbox",checked:R.has(e.market_id),onChange:t=>((e,t)=>{let a=new Set(R);t?a.add(e):a.delete(e),q(a)})(e.market_id,t.target.checked),style:{accentColor:"#28a745"}}),R.has(e.market_id)&&(0,o.jsx)("span",{style:{color:"#28a745",fontSize:12,marginLeft:4},children:"✓"})]})]},e.market_id)})})]})})}),(0,o.jsx)("div",{className:"json-preview-container",style:{flex:"0 0 30%",display:"flex",flexDirection:"column",height:"100%"},children:(0,o.jsxs)("div",{className:"json-preview",style:{border:"1px solid #ddd",borderRadius:4,backgroundColor:"#f8f9fa",height:"100%",display:"flex",flexDirection:"column"},children:[(0,o.jsxs)("div",{className:"json-header",style:{padding:12,borderBottom:"1px solid #ddd",backgroundColor:"#e9ecef",fontWeight:600,flexShrink:0},children:["JSON Preview (",ec.questions.length," selected)"]}),(0,o.jsx)("div",{className:"json-content",style:{flex:1,overflowY:"auto",padding:12},children:(0,o.jsx)("pre",{style:{fontSize:11,lineHeight:1.4,margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:"Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace"},children:JSON.stringify(ec,null,2)})})]})})]}),!u&&!m&&(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px",marginBottom:"20px"},children:(0,o.jsx)("button",{className:"export-button",onClick:()=>{O.size+I.size!==0&&(console.log("Exported to Rain:",ec),alert("Exported ".concat(ec.length," markets to Rain!")))},disabled:O.size+I.size===0,style:{padding:"16px 32px",fontSize:"18px",fontWeight:"600",backgroundColor:O.size+I.size>0?"rgba(220, 236, 78, 1)":"#ccc",color:O.size+I.size>0?"black":"white",border:"none",borderRadius:8,cursor:O.size+I.size>0?"pointer":"not-allowed",minWidth:"200px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease"},onMouseOver:e=>{O.size+I.size>0&&(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)")},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Export to Rain"})})]})]}):(0,o.jsx)(c,{})}},79169:(e,t,a)=>{"use strict";a.r(t),a.d(t,{modal:()=>i,wagmiAdapter:()=>n});var o=a(10886),r=a(23132),l=a(98594);let s="740c863a979caee12a26e43da0c7f326",n=new r.D({networks:[l.rCZ,l.D8t,l.n1],projectId:s}),i=(0,o.sX)({adapters:[n],networks:[l.rCZ,l.D8t,l.n1],projectId:s,metadata:{name:"Polymarket Scanner",description:"Scan and compare markets from Polymarket and Bet365",url:"https://polymarket-scanner.com",icons:["https://avatars.githubusercontent.com/u/37784886"]},features:{analytics:!0,email:!1,socials:!1,emailShowWallets:!1,onramp:!1,swaps:!1},themeMode:"dark",themeVariables:{"--w3m-color-mix":"#00D4AA","--w3m-color-mix-strength":20,"--w3m-z-index":"999999","--w3m-accent":"#007bff","--w3m-background-color":"#1a1a1a","--w3m-foreground-color":"#2a2a2a"}})}},e=>{e.O(0,[1499,8100,8441,1255,7358],()=>e(e.s=22552)),_N_E=e.O()}]);